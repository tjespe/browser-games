console.log("Executing scroll.js");app.directive("scroll",["$window","initialJSON",function(e,b){console.log("Executing scroll directive");return function(a){var f=function(){b.jquery.then(function(){$("#games").length&&this.pageYOffset>=$("#games").outerHeight()-2E3&&(void 0!==a.cat?a.cat.requestGames(18):a.master.requestGames(18))})};angular.element(e).on("scroll",f);a.$on("$destroy",function(){angular.element(e).off("scroll",f)})}}]);app.controller("lazyStuff",["$http","$scope","local","$location","$routeParams","$lhttp","urls",function(e,b,a,f,g,h,c){function k(d,a){h.get("/src/css/"+a,0).then(function(d){b.master.css+=d})}b.master.rate=function(d,a,f){b.master.disabled||(b.master.disabled=!0,Date.now(),a=e({method:"get",url:c.rating+"?action="+a+"&id="+d,data:d,headers:{"Content-Type":"application/x-www-form-url-encoded"}}),a.success(function(a){Date.now();console.log(a.logdata);document.getElementById(d).innerHTML=1*document.getElementById(d).innerHTML+
f;b.master.disabled=!1}),a.error(function(a){document.getElementById(d).innerHTML="ERROR "+a;b.master.disabled=!1}))};b.master.disabled=!1;var d=b.master;d.toggleTags=function(){d.showAllTags=!d.showAllTags};d.search=function(){f.path("tag/"+d.otag);d.collapseTags()};d.goTo=function(a){f.path(a);d.collapseTags()};d.goToGame=function(a){f.path("id/"+a)};d.goHome=function(){f.path("");d.collapseTags()};d.collapseTags=function(){d.showAllTags=!1};d.ifHome=function(){return"/"==f.path()};d.ifAtSubmit=
function(){return"/submit"==f.path()};d.ifAt=function(a){return f.path()==a};d.tagIs=function(a){return"undefined"!=typeof g.category?g.category.toLowerCase()==a.toLowerCase():!1};for(var l in d)try{b.master[l]=d[l]}catch(m){console.warn(m)}k("ubuntu","ubuntu.css");k("glyphs","custom_bootstrap/glyphicons.min.css");k("listGroups","custom_bootstrap/list-groups.min.css");b.master.mlcLoaded=!0}]);app.controller("cookieCtrl",["$timeout",function(e){function b(a,b){return(b=document.cookie.match("(^|;)\\s*"+a+"\\s*=\\s*([^;]+)"))?b.pop():""}var a=this;a.template="";a.close=function(){$(".cookie-box").css("opacity",0);e(function(){$(".cookie-box").remove()},500);"undefined"!==typeof Storage?localStorage.cookieAccept="true":document.cookie="cookiescriptaccept=visit"};"undefined"!==typeof Storage&&"true"!=localStorage.cookieAccept&&"visit"!=b("cookiescriptaccept")?e(function(){try{document.getElementsByClassName("cookie-box")[0].setAttribute("style",
"opacity:1;")}catch(f){console.warn(f)}e(a.close,5E3)},2500):document.querySelector("#cookies").remove()}]);console.log("Executing mailListCtrl.js");
app.controller("mailListCtrl",["$http","$timeout","local","$scope","urls",function(e,b,a,f,g){var h=this;h.mail="";var c=Date.now()+2592E6;console.log("Executing mailListCtrl controller");h.init=function(){var e=a.get("hasVisitedThorinEarlier"),d=a.keyExist("thorinMailPrompted")&&a.get("thorinMailPrompted");!e||d||f.view.ifMobile||b(function(){$(".lightbox").css("display","flex !important");b(function(){$(".lightbox").css("opacity",1)},200)},8E3);a.set("hasVisitedThorinEarlier",!0,c)};h.subscribe=
function(){h.form.mail.$valid?($(".lightbox").css("opacity",0),b(function(){$(".lightbox").css("display","none")},1001),a.set("thorinMailPrompted",!0),e({method:"post",url:g.subscribe,data:h.mail}).success(function(a){console.log(a)})):h.form.mail.$setTouched()};h.cancel=function(){$(".lightbox").css("opacity",0);b(function(){$(".lightbox").css("display","none")},1001);a.set("thorinMailPrompted",!0,Date.now()+6048E5)}}]);app.controller("submitCtrl",["$http","$scope","initialJSON","urls",function(e,b,a,f){function g(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function h(a){if(0<a.length){a=a.match(/#[^#]+/g);for(i=0;i<a.length;i++)try{a[i]=a[i].replace("#",""),a[i]=a[i].trim(),a[i]=g(a[i])}catch(l){console.warn(l)}return a}return[]}var c=this;b.master.loc="Thorin-Games \u2014 Submit a game";b.master.desc="If you want to, you can submit a game to Thorin-Games, all you have to do is to fill out the form below and tap submit";
b.master.norsk&&(b.master.loc="Thorin-Games \u2014 Legg til et spill",b.master.desc="Dersom du \u00f8nsker det kan du legge til et spill til Thorin-Games. Alt du m\u00e5 gj\u00f8re er \u00e5 fylle ut skjemaet nedenfor og trykke legg til.");c.tagValReg=/.*#.+/i;c.game={title:"",comments:[],likes:2,height:"n",width:"100%","public":!0,instructions:"",tags:[],thumbnail:"",file:"",description:"",mobile:!1};c.gameTags="";c.gameHeight="";c.gameWidth="";c.showPreview=!1;c.loading=!1;c.success=!1;c.errors=
{EMBED_ERROR:!1,IMAGE_ERROR:!1,DESC_ERROR:!1,MISSING_KEYS:[],OTHER_ERROR:!1};c.showP=function(){c.showPreview=!0};var k=function(a){return/^\d+$/.test(a)||"n"==a||"r"==a||/[0-9]*px$/.test(a)||/[0-9]*%$/.test(a)};c.submit=function(){k(c.gameHeight)&&k(c.gameWidth)&&(c.game.height=c.gameHeight,c.game.width=c.gameWidth);c.game.tags=h(c.gameTags);console.log("Spillet fikk disse taggene:",c.game.tags,"hele objektet ser slik ut:",c.game);console.log(b);if(c.submitGame.$valid){console.log("Alt ser bra ut, spillet kan lastes opp");
c.loading=!0;var a=e({method:"POST",url:f.submitGame,data:c.game});a.success(function(a){console.log(a);c.showPreview=!1;c.loading=!1;c.errors=a.errors;if(c.success=a.success)c.game={title:"",comments:[],likes:2,height:"n",width:"100%","public":!0,instructions:"",tags:[],thumbnail:"",file:"",description:""},c.showPreview=!1});a.error(function(a,b){c.errors.OTHER_ERROR=!0;c.loading=!1;console.log("Data:",a,"status:",b)})}};c.init=function(){console.log("initialized");a.jquery.then(function(){$("textarea").each(function(a){$(this).attr("rows",
Math.ceil($(this).attr("placeholder").length*(430/56)/$(this).width()))})})}}]);app.controller("homeCtrl",["$http","$rootScope","$scope","$timeout","initialJSON",function(e,b,a,f,g){var h=this;h.len="...";b.$on("$locationChangeStart",function(c){a.master.routeChanged=!0});a.master.loc="Thorin-Games \u2014 The best place on the internet to play Flash and HTML5 games";a.master.desc="Welcome to Thorin-Games. Here you can find a broad selection of flash and html5 games sorted by popularity and category.";a.master.norsk&&(a.master.loc="Thorin-Games \u2014 Den beste siden p\u00e5 internett for \u00e5 spille Flash og HTML5 spill",
a.master.desc="Velkommen til Thorin-Games sin nettside. Her kan du finne nesten 2000 spill, sortert etter bl.a. kategori og hvor godt likt de er.");g.json.then(function(c){h.len=c.count;try{if(a.master.norsk){for(var b="",d=0;8>d;d++)b+=c.topTags[d].name+" ("+c.topTags[d].amount+" spill), ";b+=c.topTags[8].name+" ("+c.topTags[8].amount+" spill).";a.master.desc+=" De st\u00f8rste kategoriene akkurat n\u00e5 er "+b}else{b="";for(d=0;8>d;d++)b+=c.topTags[d].name+" ("+c.topTags[d].amount+" games), ";
b+=c.topTags[8].name+" ("+c.topTags[8].amount+" games).";a.master.desc+=" Our top categories right now are "+b}b="";for(d=0;7>d;d++)b+=" "+c.initialGames[d].title+" ("+c.initialGames[d].likes+" likes),";b+=" "+c.initialGames[7].title+" ("+c.initialGames[7].likes+" likes)";a.master.desc=a.master.norsk?a.master.desc+(" De mest popul\u00e6re spillene v\u00e5re n\u00e5 er"+b):a.master.desc+(" Our most popular games right now are"+b)}catch(l){console.warn(l)}})}]);app.service("local",[function(){var e=this;e.supported="undefined"!==typeof Storage;e.set=function(a,b,e){localStorage[a]="undefined"!==typeof e?JSON.stringify({str:b,expirationDate:e}):JSON.stringify({str:b})};e.get=function(a){if(e.keyExist(a))return JSON.parse(localStorage[a]).str};e.setExpiration=function(a,b){var e=JSON.parse(localStorage[a]);e.expirationDate=b;localStorage[a]=JSON.stringify(e)};e.getExpiration=function(a){return"undefined"!==typeof JSON.parse(localStorage[a]).expirationDate?
JSON.parse(localStorage[a]).expirationDate:Infinity};e.keyExist=function(a){return"undefined"!==typeof localStorage[a]};for(var b in localStorage)e.keyExist(b)&&"undefined"!==typeof localStorage[b].expirationDate&&localStorage[b].expirationDate<Date.now()&&delete localStorage[b]}]);app.filter("mouthWash",function(){console.log("mouthWash.js loaded and executing");var e="fuck;sex;porn;porno;faen;fakk;f\u00f8kk;knull;pul;wank;runk;satan;bitch;fitte;fitta;j\u00e6vl;j\u00e6vel;mens;kill y;necro;rape;anus;arse;ass;axwound;blow job;blowjob;bollock;bollox;boner;butt;camel toe;chode;clit;cock;cooch;cum;cunt;dick;dildo; fag;gay;homo;handjob;jerk; jack;lesbi;phil;fil ;nigg;paki;penis;pecker;piss; poon ;prick;pussy; shit;slut ;suck;twat; tit;tard ;tards ;vagin;whore;4r5e;5h1t;5hit;a55;anal;ar5e;arrse;ass-fucker;asses;assfucker;assfukka;asshole;assholes;asswhole;a_s_s;b!tch;b00bs;b17ch;b1tch;ballbag;balls;ballsack;bastard;beastial;beastiality;bellend;bestial;bestiality;bich;biatch;bitcher;bitchers;bitches;bitchin;bitching;bloody;blowjobs;boiolas;bollok;boob;boobs;booobs;boooobs;booooobs;booooooobs;breasts;buceta;bugger;bum;bunny fucker;butthole;buttmuch;buttplug;c0ck;c0cksucker;carpet muncher;cawk;chink;cipa;cl1t;clitoris;clits;cnut;cock-sucker;cockface;cockhead;cockmunch;cockmuncher;cocks;cocksuck ;cocksucked ;cocksucker;cocksucking;cocksucks ;cocksuka;cocksukka;cok;cokmuncher;coksucka;coon;cox;crap;cummer;cumming;cums;cumshot;cunilingus;cunillingus;cunnilingus;cuntlick ;cuntlicker ;cuntlicking ;cunts;cyalis;cyberfuc;cyberfuck ;cyberfucked ;cyberfucker;cyberfuckers;cyberfucking ;d1ck;damn;dickhead;dildos;dink;dinks;dirsa;dlck;dog-fucker;doggin;dogging;donkeyribber;doosh;duche;dyke;ejaculate;ejaculated;ejaculates ;ejaculating ;ejaculatings;ejaculation;ejakulate;f u c k;f4nny;fag;fagging;faggitt;faggot;faggs;fagot;fagots;fags;fanny;fannyflaps;fannyfucker;fanyy;fatass;fcuk;fcuker;fcuking;feck;fecker;felching;fellate;fellatio;fingerfuck ;fingerfucked ;fingerfucker ;fingerfuckers;fingerfucking ;fingerfucks ;fistfuck;fistfucked ;fistfucker ;fistfuckers ;fistfucking ;fistfuckings ;fistfucks ;flange;fook;fooker;fucka;fucked;fucker;fuckers;fuckhead;fuckheads;fuckin;fucking;fuckings;fuckingshitmotherfucker;fuckme ;fucks;fuckwhit;fuckwit;fudge packer;fudgepacker;fuk;fuker;fukker;fukkin;fuks;fukwhit;fukwit;fux;fux0r;f_u_c_k;gangbang;gaylord;gaysex;goatse;god-dam;god-damned;goddamn;goddamned;hardcoresex ;hell;heshe;hoar;hoare;hoer;hore;horniest;horny;hotsex;jack-off ;jackoff;jap;jerk-off ;jism;jiz ;jizm ;jizz;kawk;knob;knobead;knobed;knobend;knobhead;knobjocky;knobjokey;kock;kondum;kondums;kum;kummer;kumming;kums;kunilingus;l3ich;l3itch;labia;lust;lusting;m0f0;m0fo;m45terbate;ma5terb8;ma5terbate;masochist;master-bate;masterb8;masterbat;masterbat3;masterbate;masterbation;masterbations;masturbate;mo-fo;mof0;mofo;mothafuck;mothafucka;mothafuckas;mothafuckaz;mothafucked ;mothafucker;mothafuckers;mothafuckin;mothafucking ;mothafuckings;mothafucks;mother fucker;motherfuck;motherfucked;motherfucker;motherfuckers;motherfuckin;motherfucking;motherfuckings;motherfuckka;motherfucks;muff;mutha;muthafecker;muthafuckker;muther;mutherfucker;n1gga;n1gger;nazi;nigg3r;nigg4h;nigga;niggah;niggas;niggaz;nigger;niggers ;nob;nob jokey;nobhead;nobjocky;nobjokey;numbnuts;nutsack;orgasim ;orgasims ;orgasm;orgasms ;p0rn;pawn;penisfucker;phonesex;phuck;phuk;phuked;phuking;phukked;phukking;phuks;phuq;pigfucker;pimpis;pissed;pisser;pissers;pisses ;pissflaps;pissin ;pissing;pissoff ;poop;pornography;pornos;pricks ;pron;pube;pusse;pussi;pussies;pussys ;rectum;retard;rimjaw;rimming;s hit;s.o.b.;sadist;schlong;screwing;scroat;scrote;scrotum;semen;sh!;sh!t;sh1t;shag;shagger;shaggin;shagging;shemale;shi;shit;shitdick;shite;shited;shitey;shitfuck;shitfull;shithead;shiting;shitings;shits;shitted;shitter;shitters ;shitting;shittings;shitty ;skank;sluts;smegma;smut;snatch;son-of-a-bitch; spac ;spunk;s_h_i_t;t1tt1e5;t1tties;teets;teez;testical;testicle; tit;titfuck;tits;titt;tittie5;tittiefucker;titties;tittyfuck;tittywank;titwank;tosser;turd;tw4t;twathead;twatty;twunt;twunter;v14gra;v1gra;vagina;viagra;vulva;w00se;wang;wanker;wanky;whoar;willies;willy;xrated;xxx;fy fader".split(";");
return function(b,a){a.master.verifiedUser||"undefined"===typeof b||angular.forEach(e,function(a){a=new RegExp(a.split("").join("\\s*"),"gi");b=b.replace(a,"mooh")});return b}});app.filter("chatTime",["$filter",function(e){console.log("chatTime.js loaded and executing");var b="seconds ago",a="minutes ago";if(-1<navigator.language.indexOf("nb")||-1<navigator.language.indexOf("nn")||-1<navigator.language.indexOf("no"))b="sekunder siden",a="minutter siden";return function(f){if("number"==typeof f){var g=Date.now()-f;return 6E4>g?Math.floor(g/1E3)+" "+b:36E5>g?Math.floor(g/6E4)+" "+a:864E5>g?e("date")(f,"HH:mm"):6E8>g?e("date")(f,"EEE HH:mm"):31104E6>g?e("date")(f,"dd/MM HH:mm"):
e("date")(f,"dd/MM/yyyy")}return f}}]);app.directive("embedSrc",function(){console.log("embedSrc.js loaded and executing");return{restrict:"A",link:function(e,b,a){e.$watch(function(){return a.embedSrc},function(){b.attr("src",a.embedSrc)})}}});app.controller("404Ctrl",["$location","$timeout","$scope",function(e,b,a){b(function(){e.path("/")},3E3);a.master.loc="Thorin-Games \u2014 "+$("h2")[0].innerText;a.master.desc=$(".error-content")[0].innerText.replace("\n",".")}]);